---
title: '<div><img src="ohdsi40x40.png"></img> OHDSI GIS WG</div>'
output:
   html_document:
        toc: TRUE
        toc_depth: 3
        toc_float:
          collapsed: false
---

# **Using a Local Dataset**

Two things must be done by the Gaia maintainer to enable offline storage:
1. A storage.yml file in the inst/config directory must be created or edited to point to the offline storage directory where dataset files can be found
```yml
offline_storage:
  directory: /opt/data
  persist_data: false
```
2. The data_source record in the Gaia database must be authored to specify a local source and point to the local file
- `download_method` field should be set to 'local'
- `download_url` field should be set to the name of the file

Datasets must share the `download_url` from the data_source_record and be stored in a subdirectory that shares the `dataset_name` from the data_source record, e.g. `/opt/data/annual_measurement_2024/shpfile.zip`

With these two steps completed, and dataset properly named and stored, the Gaia API will be able to serve the dataset from the local file as it does any other data_source.
