<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title> OHDSI GIS WG</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />
<link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><div><img src="ohdsi16x16.png"></img> OHDSI GIS </div></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-earth"></span>
     
    Gaia
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="gaia-intro.html">Overview</a>
    </li>
    <li>
      <a href="gaia-principles.html">Design</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Specifications</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="gaia-terminology.html">Terminology</a>
        </li>
        <li>
          <a href="gaia-datamodels.html">Data Models</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-cubes"></span>
     
    Gaia Framework
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="fw-overview.html">Overview</a>
    </li>
    <li>
      <a href="fw-gaia-catalog.html">Gaia Catalog</a>
    </li>
    <li>
      <a href="fw-gaia-core.html">Gaia Core</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Extensions</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="fw-gaia-extensions.html">Overview</a>
        </li>
        <li>
          <a href="fw-gaia-extensions-ohdsi.html">GaiaOhdsi</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-question"></span>
     
    How to
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ht-get-started.html">Get Started with Gaia</a>
    </li>
    <li>
      <a href="ht-local-dataset.html">Use a Local Dataset</a>
    </li>
    <li>
      <a href="ht-geocode.html">Geocode for OMOP Database Addresses</a>
    </li>
    <li>
      <a href="geocodingCohort.html">Geocode an OMOP Cohort</a>
    </li>
    <li>
      <a href="ht-add-data-source.html">Add Data Sources to a Local gaiaDB Instance</a>
    </li>
    <li>
      <a href="ht-share-data-source.html">Share Your Local Data Sources</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-info"></span>
     
    Getting Involved
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="gi-propose-usecase.html">Use Case Proposals</a>
    </li>
    <li>
      <a href="gi-edit-docs.html">How to Edit Documentation</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/OHDSI/GIS">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore"><img src="ohdsi40x40.png"></img> OHDSI GIS
WG</h1>

</div>


<div id="gaia" class="section level1">
<h1><strong>Gaia</strong></h1>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>TODO</p>
<div id="current-scope" class="section level3">
<h3>Current Scope</h3>
<p>TODO</p>
</div>
<div id="limitations" class="section level3">
<h3>Limitations</h3>
<p>TODO</p>
</div>
</div>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p><strong>Gaia</strong> refers to the amalgamation of infrastructure,
software, standards, tools, and the overall workflow that the OHDSI GIS
Workgroup has developed to assist researchers with integrating
place-based datasets into their patient-based health database and
subsequent analyses.</p>
<p><strong>Gaia</strong> includes multiple major elements: -
gaiaCatalog: a functional metadata catalog containing references to
publicly-hosted geospatial datasets and instructions for their download
and standardization - gaiaCore: a Postgis database for managing
harmonized data sources, the dockerized DeGauss geocoding tool, and
gaiaR, an R package for managing interactions between gaiaCore,
gaiaCatalog, and any of the Gaia “extensions” - Extensions: a broad
suite of software packages that are powered by gaiaCore. The most
relevant of these packages is gaiaOhdsi, an R package that contains
operations specific to interacting with an OMOP CDM or external OHDSI
software. Other example of extensions are the gaiaVis tools which
provide a set of visualizations for data in gaiaCore.</p>
</div>
<div id="purpose" class="section level2">
<h2>Purpose</h2>
<p>What is the purpose of Gaia? Why are we doing all of this?</p>
<p>Gaia provides a standardized, automated, reproducible, and easily
shareable means for integrating place-based datasets into a database of
longitudinal patient health data.</p>
</div>
<div id="the-case-for-gaia" class="section level2">
<h2>The Case for Gaia</h2>
<div id="simplest-case" class="section level3">
<h3>Simplest case</h3>
<p>The <em>simplest case</em> for Gaia is a single researcher looking to
leverage place-based data. After standing up a local or cloud instance
of GaiaCore, any researcher now has access to a wealth of curated
sources of geospatial data ranging from environmental toxin data to one
of many Social Determinants of Health Indexes derived from the US Census
data. Instead of the countless hours of work typical to munging multiple
disparate geospatial datasets, the researcher can simply use the
functions from the gaiaR package to load datasets into their Postgis
database all in a harmonized geospatial data format. They’ve now quickly
enabled datasets across many domains, years, and regions in a single
Postgis database to which they connect using the software of their
choice and begin performing ad hoc exploratory data analyses, creating
visualizations, or even powering their own geospatial applications.</p>
</div>
<div id="using-gaiacore-with-an-omop-shaped-database"
class="section level3">
<h3>Using GaiaCore with an OMOP-shaped database</h3>
<p>Taking this scenario a step further, a researcher with an established
OMOP CDM database may wish to incorporate a subset of geospatial
variables into their CDM database alongside their patient health data.
The steps necessary to perform this ingestion, which requires geocoding
of patient address and a spatiotemporal join, are all handled by
GaiaCore and the gaiaOhdsi extension. Thehe DeGauss geocoder, a
lightweight geocoder that operates fully locally to ensure that patient
information is not transmitted, is easily utilized through a gaiaR
wrapper. standardized spatiotemporal joins from the gaiaOhdsi extension
relate patient addresses to polygon, line, or point geometries. By
transforming the place-based data into patient-level information, it is
now ready to be inserted into the CDM extension table
“exposure_occurrence”. The DDL and insert scripts for this table are
also contained in the gaiaOhdsi extension. Once the data has been added
to the CDM, it can be used to create cohort definitions, develop
predictive models, and generally utilized by all relevant external OHDSI
tooling.</p>
</div>
<div id="federated-networks-and-research" class="section level3">
<h3>Federated networks and research</h3>
<p>Finally, Gaia enables standardized and reproducible workflows for
federated data networks and studies. The process highlighted above to
retrieve and harmonize geospatial datasets, perform spatiotemporal joins
to transform place-based data to person-level information, and insert
person-level information into an OMOP CDM and define cohorts, is fully
reproducible. Each step of the process contains detailed, structured
metadata focused on provenance of source data and rationale for
transformation methods. By scripting and containerizing an entire Gaia
workflow, the process of pairing place-based data, often handled using
undocumented ad-hoc methods unique to single sites, can be packaged and
shipped across an entire network with minimal effort.</p>
<p>The <em>simplest case</em> for Gaia is a single researcher looking to
leverage place-based data. After standing up a local or cloud instance
of gaiaCore, any researcher now has access to a wealth of curated
sources of geospatial data ranging from environmental toxin data to one
of many Social Determinants of Health Indexes derived from the US Census
data. Instead of the countless hours of work typical to munging multiple
disparate geospatial datasets, the researcher can simply use the
functions from the gaiaR package to load datasets into their Postgis
database all in a harmonized geospatial data format. They’ve now quickly
enabled datasets across many domains, years, and regions in a single
Postgis database to which they connect using the software of their
choice and begin performing ad hoc exploratory data analyses, creating
visualizations, or even powering their own geospatial applications.</p>
<p>Taking this scenario a step further, a researcher with an established
OMOP CDM database may wish to incorporate a subset of geospatial
variables into their CDM database alongside their patient health data.
The steps necessary to perform this ingestion, which requires geocoding
of patient address and a spatiotemporal join, are all handled by
gaiaCore and the gaiaOhdsi extension. Thehe DeGauss geocoder, a
lightweight geocoder that operates fully locally to ensure that patient
information is not transmitted, is easily utilized through a gaiaR
wrapper. standardized spatiotemporal joins from the gaiaOhdsi extension
relate patient addresses to polygon, line, or point geometries. By
transforming the place-based data into patient-level information, it is
now ready to be inserted into the CDM extension table
“exposure_occurrence”. The DDL and insert scripts for this table are
also contained in the gaiaOhdsi extension. Once the data has been added
to the CDM, it can be used to create cohort definitions, develop
predictive models, and generally utilized by all relevant external OHDSI
tooling.</p>
<p>Finally, Gaia enables standardized and reproducible workflows for
federated data networks and studies. The process highlighted above to
retrieve and harmonize geospatial datasets, perform spatiotemporal joins
to transform place-based data to person-level information, and insert
person-level information into an OMOP CDM and define cohorts, is fully
reproducible. Each step of the process contains detailed, structured
metadata focused on provenance of source data and rationale for
transformation methods. By scripting and containerizing an entire Gaia
workflow, the process of pairing place-based data, often handled using
undocumented ad-hoc methods unique to single sites, can be packaged and
shipped across an entire network with minimal effort.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
